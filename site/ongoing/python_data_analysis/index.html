<!DOCTYPE html>

<html lang="en">

<head>
  <title>Python Data Analysis Tips</title>

  <meta charset="utf-8">
  <meta name="author" content="Luca Ionescu">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel='stylesheet' href="/assets/css/fonts.css" type='text/css'>
  <link rel="stylesheet" href="/assets/css/style.css?v=1.0" type="text/css">
</head>

<body>
  <div id="content">
    <article>
      <header class="post-margin-top">
        <p class="font-s"> Jul 7, 2019</p>
        <h2 class="post-title">Python Data Analysis Tips</h2>
      </header>
      <div class="post-margin-top">
        <p><i><small>last update: 2019/07/24</small></i><br><br></p>
        A continuously updated list of short tips for data analysis and machine learning
        with Python and the common tools Pandas, NumPy and Jupyter.
        <p>
          <ul>

            <li class="post-margin-top">
              <strong>Wider Jupyter Notebook cells</strong>
              <pre class="font-b code-color code-snippet">
from IPython.core.display import display, HTML

display(HTML("&lt;style>.container { width:100% !important; }&lt;/style>"))</pre>
            </li>

            <li class="post-margin-top">
              <strong>Print all of the outputs of a Jupyter Notebook cell</strong>
              <br>
              Usually, only the last output of a cell gets printed and for the others,
              one has to call the <span class="font-b code-color inline-code">print</span> function.
              <pre class="font-b code-color code-snippet">
from IPython.core.interactiveshell import InteractiveShell

InteractiveShell.ast_node_interactivity = "all"</pre>
            </li>

            <li class="post-margin-top">
              <strong>Handle paths with <span class="font-b code-color inline-code">pathlib</span></strong>
              <br>
              This avoids multiple string concatenations and working with <span class="font-b code-color inline-code">os.path.join</span>
              <br>
              There are also of course methods available for directory iteration,
              path manipulation or directory/file checks.
              <pre class="font-b code-color code-snippet">
from pathlib import Path

data_path = Path('path/to/dataset')
train_path = data_path / 'train_data'
test_path = data_path / 'test_data'

for file in train_path.iterdir():
    with file.open() as f:
        ...</pre>
            </li>

            <li class="post-margin-top">
              <strong>Matrix multiplication using @</strong>
              <pre class="font-b code-color code-snippet">
>>> import numpy as np

>>> x = np.array([[1,2,3], [4,5,6]])
>>> y = np.array([[2,3], [4,5], [6,7]])
>>> x @ y
array([[28, 34],
       [64, 79]])</pre>
            </li>

            <li class="post-margin-top">
              <strong>Run scripts using the <span class="font-b code-color inline-code">-i</span> argument</strong>
              <br> This has two advantages:
              <br>
              1. Python will stay in the interpreter and you can still evaluate statements
              and run code using the scripts variables and functions.
              <br>
              2. If an error occurs, you can call the Python debugger
              while being in the interpreter:
              <pre class="font-b code-color code-snippet">
import pdb
pdb.pm()</pre>
              <a class="link-underline" target="_blank"
                href="http://www.bnikolic.co.uk/blog/python-running-cline.html?source=post_stats_page---------------------------">Source</a>
            </li>

            <li class="post-margin-top">
              <strong>Get higher-resolution matplotlib graphics for Retina screens</strong>
              <pre class="font-b code-color code-snippet">
%config InlineBackend.figure_format ='retina'</pre>
            </li>

            <li class="post-margin-top">
              <strong>Customize your Jupyter Notebook with custom CSS</strong>
              <br>
              You can use a custom CSS file that has to be located in <span class="font-b code-color inline-code">~/.jupyter/custom/custom.css</span>
              where you can change the appearance of the notebook.
              <br>
              Check out my file <a class="link-underline" target="_blank" href="https://github.com/lucaionescu/dotfiles/blob/master/python/custom.css">in my dotfiles repository</a>,
              or a more extensive example <a class="link-underline" target="_blank" href="https://github.com/nsonnad/base16-ipython-notebook">here</a>.
            </li>
          </ul>
        </p>
      </div>
    </article>
  </div>
</body>

</html>